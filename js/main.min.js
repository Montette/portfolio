var _this=this;const requiredInputs=document.querySelectorAll('[required]'),stringPattern=/^[a-zA-ZąćęłńóśźżĄĘŁŃÓŚŹŻ]+(?:[\s-][a-zA-ZąćęłńóśźżĄĘŁŃÓŚŹŻ]+)*$/i,mailPattern=/^[0-9a-zA-Z_.-]+@[0-9a-zA-Z.-]+\.[a-zA-Z]{2,3}$/i,showFieldValidation=(a,b)=>{!1==b?(a.classList.add('validate-warning'),null!==a.nextElementSibling&&a.nextElementSibling.classList.add('visible')):(a.classList.remove('validate-warning'),null!==a.nextElementSibling&&a.nextElementSibling.classList.remove('visible'))},validateInput=(a,b)=>{let c=!0;return void 0===b?''===a.value&&(c=!1):(!b.test(a.value)||''===a.value)&&(c=!1),c?(showFieldValidation(a,!0),!0):(showFieldValidation(a,!1),!1)},saveToLocalStorage=(a)=>{localStorage.setItem(a.name,a.value)},loadFromLocalStorage=()=>{[...requiredInputs].forEach((a)=>{const b=localStorage.getItem(a.name),c=localStorage.getItem('checkedInput');a.value=b})},validateForm=()=>{[...requiredInputs].forEach((a)=>{if('input'===a.nodeName.toLowerCase()||'textarea'===a.nodeName.toLowerCase()){const b=a.type.toLowerCase(),c=a.name.toLowerCase();a.addEventListener('input',()=>{saveToLocalStorage(event.target)}),'text'==b&&a.addEventListener('input',(a)=>{validateInput(a.target,stringPattern)}),'email'==b&&a.addEventListener('input',(a)=>{validateInput(a.target,mailPattern)})}})},checkFormbeforeSending=(a)=>{a.preventDefault();let b=!0;return[...requiredInputs].forEach((a)=>{if('input'===a.nodeName.toLowerCase()||'textarea'===a.nodeName.toLowerCase()){const c=a.type.toLowerCase();'text'==c&&!1==validateInput(a,stringPattern)&&(b=!1),'email'==c&&!1==validateInput(a,mailPattern)&&(b=!1)}}),!!b&&void a.target.submit()};document.querySelector('.contact__form').addEventListener('submit',(a)=>{checkFormbeforeSending(a)}),document.addEventListener('DOMContentLoaded',()=>{validateForm(),loadFromLocalStorage()});const navigation=document.querySelector('.nav'),menuButton=document.querySelector('.nav__burger'),navigationMenu=document.querySelector('.nav__menu'),sections=[...document.querySelectorAll('section[id]')],links=[...document.querySelectorAll('.nav__link')],menuHeigh=document.getElementById('nav').getBoundingClientRect().height;window.addEventListener('scroll',()=>{300<=_this.scrollY?navigation.classList.add('color'):navigation.classList.remove('color'),sections.forEach((a)=>{let b=a.getAttribute('id'),c=a.offsetTop-5*menuHeigh;c<=Math.round(window.scrollY)&&(null!==document.querySelector('.active')&&document.querySelector('.active').classList.remove('active'),document.querySelector(`a[href*='${b}']`).classList.add('active'))})});const scrollToElement=(a)=>{const b='scrollBehavior'in document.documentElement.style;let c={behavior:'smooth',left:0,top:a.offsetTop-2.2*menuHeigh};b?window.scrollTo(c):window.scrollTo(c.left,c.top)},scrollOnClick=(a)=>{a.preventDefault();let b=a.target.getAttribute('href');'img'===a.target.tagName.toLowerCase()&&(console.log('tak'),b='#home'),console.log(a.target),console.log(b);let c=b.slice(1,b.length),d=document.getElementById(c);scrollToElement(d)};links.forEach((a)=>{const b=a.getAttribute('href');'#'!==b&&a.addEventListener('click',scrollOnClick.bind(a))}),menuButton.addEventListener('click',()=>{menuButton.classList.toggle('open'),navigationMenu.classList.toggle('visible-menu')});for(var lastTime=0,vendors=['webkit','moz'],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'],window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=new Date().getTime(),c=Math.max(0,16-(b-lastTime)),d=window.setTimeout(function(){a(b+c)},c);return lastTime=b+c,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});for(var lastTime=0,vendors=['webkit','moz'],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'],window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=new Date().getTime(),c=Math.max(0,16-(b-lastTime)),d=window.setTimeout(function(){a(b+c)},c);return lastTime=b+c,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var PIXELATION=15,items=document.querySelectorAll('.pixelate'),_objs=[],Images=function(a,b,c,d){this.element=a,this.image=b,this.canvas=c,this.context=d,this.pixelation=1};Images.prototype.bindLoad=function(){var a=this;this.image.onload=function(){a.reportLoad.call(a)},this.image.complete&&this.image.onload()},Images.prototype.reportLoad=function(){var a=this;this.imageWidth=this.canvas.width=this.image.naturalWidth,this.imageHeight=this.canvas.height=this.image.naturalHeight,this.context.drawImage(this.image,0,0),a.mouseOver();let b=!0;window.addEventListener('scroll',function(){a.isInViewport()&&b&&(a.mouseOut(),b=!1)},!1),this.element.addEventListener('mouseenter',function(b){console.log(b.target),console.log(b.target.parentElement),console.log(a.element)},!1),this.element.addEventListener('mouseleave',function(){console.log(event.target),console.log(event.target.parentElement),console.log('1')},!1)},Images.prototype.isInViewport=function(){var a=this,b=this.image.getBoundingClientRect();return 0<=b.top&&0<=b.left&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)},Images.prototype.mouseOver=function(){var a=this;cancelAnimationFrame(a.idUndraw);var b=function(){a.pixelation>=PIXELATION?(cancelAnimationFrame(a.idDraw),a.pixelation=PIXELATION):(a.context.drawImage(a.image,0,0,a.imageWidth,a.imageHeight,0,0,a.imageWidth,a.imageHeight),a.pixelate(a.imageWidth,0,0,a.imageHeight),a.idDraw=requestAnimationFrame(b,a.context))};a.idDraw=requestAnimationFrame(b,a.context)},Images.prototype.mouseOut=function(){var a=this;cancelAnimationFrame(a.idDraw);var b=function(){1>a.pixelation?(cancelAnimationFrame(a.idUndraw),a.pixelation=1):(a.context.drawImage(a.image,0,0),a.depixelate(a.imageWidth,a.imageHeight,0,0),a.idUndraw=requestAnimationFrame(b,a.context))};a.idUndraw=requestAnimationFrame(b,a.context)},Images.prototype.setPixels=function(){var a,b,c,d,e=this.imageWidth,f=this.imageHeight,g=this.context.getImageData(0,0,e,f),h=g.data;for(a=0;a<f;a+=this.pixelation)for(b=0;b<e;b+=this.pixelation){var i=h[4*(e*a+b)],j=h[4*(e*a+b)+1],k=h[4*(e*a+b)+2];for(c=0;c<this.pixelation;c++)for(d=0;d<this.pixelation;d++)b+d<e&&(h[4*(e*(a+c)+(b+d))]=i,h[4*(e*(a+c)+(b+d))+1]=j,h[4*(e*(a+c)+(b+d))+2]=k)}this.context.putImageData(g,0,0)},Images.prototype.pixelate=function(){this.setPixels(),this.pixelation+=1},Images.prototype.depixelate=function(){this.setPixels(),this.pixelation-=1},Array.prototype.slice.call(items,0).forEach(function(a,b){image=a.querySelector('img'),canvas=document.createElement('canvas'),context=canvas.getContext('2d'),a.appendChild(canvas),_objs.push(new Images(a,image,canvas,context)),_objs[b].bindLoad()});const preload=document.querySelector('.preloader');preload.classList.add('show-preloader'),document.querySelector('body').style.overflow='hidden',window.addEventListener('load',function(){preload.classList.remove('show-preloader'),document.querySelector('body').style.overflow='visible'});
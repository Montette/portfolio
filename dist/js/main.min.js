var _this=this;const requiredInputs=document.querySelectorAll('[required]'),stringPattern=/^[a-zA-ZąćęłńóśźżĄĘŁŃÓŚŹŻ]+(?:[\s-][a-zA-ZąćęłńóśźżĄĘŁŃÓŚŹŻ]+)*$/i,mailPattern=/^[0-9a-zA-Z_.-]+@[0-9a-zA-Z.-]+\.[a-zA-Z]{2,3}$/i,showFieldValidation=(a,b)=>{!1==b?(a.classList.add('validate-warning'),null!==a.nextElementSibling&&a.nextElementSibling.classList.add('visible')):(a.classList.remove('validate-warning'),null!==a.nextElementSibling&&a.nextElementSibling.classList.remove('visible'))},validateInput=(a,b)=>{let c=!0;return void 0===b?''===a.value&&(c=!1):(!b.test(a.value)||''===a.value)&&(c=!1),c?(showFieldValidation(a,!0),!0):(showFieldValidation(a,!1),!1)},saveToLocalStorage=(a)=>{localStorage.setItem(a.name,a.value)},loadFromLocalStorage=()=>{[...requiredInputs].forEach((a)=>{const b=localStorage.getItem(a.name),c=localStorage.getItem('checkedInput');a.value=b})},validateForm=()=>{[...requiredInputs].forEach((a)=>{if('input'===a.nodeName.toLowerCase()||'textarea'===a.nodeName.toLowerCase()){const b=a.type.toLowerCase(),c=a.name.toLowerCase();a.addEventListener('input',()=>{saveToLocalStorage(event.target)}),'text'==b&&a.addEventListener('input',(a)=>{validateInput(a.target,stringPattern)}),'email'==b&&a.addEventListener('input',(a)=>{validateInput(a.target,mailPattern)})}})},checkFormbeforeSending=(a)=>{a.preventDefault();let b=!0;return[...requiredInputs].forEach((a)=>{if('input'===a.nodeName.toLowerCase()||'textarea'===a.nodeName.toLowerCase()){const c=a.type.toLowerCase();'text'==c&&!1==validateInput(a,stringPattern)&&(b=!1),'email'==c&&!1==validateInput(a,mailPattern)&&(b=!1)}}),!!b&&void a.target.submit()};document.querySelector('.contact__form').addEventListener('submit',(a)=>{checkFormbeforeSending(a)}),document.addEventListener('DOMContentLoaded',()=>{validateForm(),loadFromLocalStorage()});const navigation=document.querySelector('.nav'),menuButton=document.querySelector('.nav__burger'),navigationMenu=document.querySelector('.nav__menu'),sections=[...document.querySelectorAll('section[id]')],links=[...document.querySelectorAll('.nav__link')],menuHeigh=document.getElementById('nav').getBoundingClientRect().height;window.addEventListener('scroll',()=>{300<=_this.scrollY?navigation.classList.add('color'):navigation.classList.remove('color'),sections.forEach((a)=>{let b=a.getAttribute('id'),c=a.offsetTop-5*menuHeigh;c<=Math.round(window.scrollY)&&(null!==document.querySelector('.active')&&document.querySelector('.active').classList.remove('active'),document.querySelector(`a[href*='${b}']`).classList.add('active'))})});const scrollToElement=(a)=>{const b='scrollBehavior'in document.documentElement.style;let c={behavior:'smooth',left:0,top:a.offsetTop-2.2*menuHeigh};b?window.scrollTo(c):window.scrollTo(c.left,c.top)},scrollOnClick=(a)=>{a.preventDefault();let b=a.target.getAttribute('href');'img'===a.target.tagName.toLowerCase()&&(b='#home');let c=b.slice(1,b.length),d=document.getElementById(c);scrollToElement(d)};links.forEach((a)=>{const b=a.getAttribute('href');'#'!==b&&a.addEventListener('click',scrollOnClick.bind(a))}),menuButton.addEventListener('click',()=>{menuButton.classList.toggle('open'),navigationMenu.classList.toggle('visible-menu'),menuButton.classList.contains('open')?(menuButton.setAttribute('aria-label','zamknij menu'),menuButton.setAttribute('aria-expanded','true'),document.querySelectorAll('.nav__link').forEach((a)=>{a.tabIndex=0})):(menuButton.setAttribute('aria-label','otw\xF3rz menu'),menuButton.setAttribute('aria-expanded','false'),document.querySelectorAll('.nav__link').forEach((a)=>{a.tabIndex=-1}))}),document.querySelectorAll('.project__photo').forEach((a)=>{a.addEventListener('focus',()=>{document.querySelectorAll('.project__photo').forEach((a)=>{a.children[0].children[2].classList.remove('visibleText')}),a.children[0].children[2].classList.add('visibleText')})});// MIT license
for(var lastTime=0,vendors=['webkit','moz'],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'],window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=new Date().getTime(),c=Math.max(0,16-(b-lastTime)),d=window.setTimeout(function(){a(b+c)},c);return lastTime=b+c,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});for(var lastTime=0,vendors=['webkit','moz'],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'],window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=new Date().getTime(),c=Math.max(0,16-(b-lastTime)),d=window.setTimeout(function(){a(b+c)},c);return lastTime=b+c,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});const maxPixelation=15,items=document.querySelectorAll('.pixelate'),objects=[];class Images{constructor(a,b,c,d){this.element=a,this.image=b,this.canvas=c,this.context=d,this.pixelation=1}startLoad(){this.image.onload=()=>{this.reportLoad()},this.image.complete&&this.image.onload()}reportLoad(){this.imageWidth=this.canvas.width=this.image.naturalWidth,this.imageHeight=this.canvas.height=this.image.naturalHeight,this.context.drawImage(this.image,0,0),this.mouseEnter();let a=!0;window.addEventListener('scroll',()=>{this.isInViewport()&&a&&(this.mouseLeave(),a=!1)},!1),this.element.addEventListener('mouseenter',()=>{this.mouseEnter()},!1),this.element.addEventListener('mouseleave',()=>{this.mouseLeave()},!1)}isInViewport(){let a=this.image.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)}mouseEnter(){cancelAnimationFrame(this.idUndraw);const a=()=>{this.pixelation>=maxPixelation?(cancelAnimationFrame(this.idDraw),this.pixelation=maxPixelation):(this.context.drawImage(this.image,0,0,this.imageWidth,this.imageHeight,0,0,this.imageWidth,this.imageHeight),this.pixelate(this.imageWidth,0,0,this.imageHeight),this.idDraw=requestAnimationFrame(a,this.context))};this.idDraw=requestAnimationFrame(a,this.context)}mouseLeave(){cancelAnimationFrame(this.idDraw);const a=()=>{1>this.pixelation?(cancelAnimationFrame(this.idUndraw),this.pixelation=1):(this.context.drawImage(this.image,0,0),this.depixelate(this.imageWidth,this.imageHeight,0,0),this.idUndraw=requestAnimationFrame(a,this.context))};this.idUndraw=requestAnimationFrame(a,this.context)}setPixels(){let a,b,c,d,e=this.imageWidth,f=this.imageHeight,g=this.context.getImageData(0,0,e,f),h=g.data;for(a=0;a<f;a+=this.pixelation)for(b=0;b<e;b+=this.pixelation){let f=h[4*(e*a+b)],g=h[4*(e*a+b)+1],i=h[4*(e*a+b)+2];for(c=0;c<this.pixelation;c++)for(d=0;d<this.pixelation;d++)b+d<e&&(h[4*(e*(a+c)+(b+d))]=f,h[4*(e*(a+c)+(b+d))+1]=g,h[4*(e*(a+c)+(b+d))+2]=i)}this.context.putImageData(g,0,0)}pixelate(){this.setPixels(),this.pixelation+=1}depixelate(){this.setPixels(),this.pixelation-=1}}[...items].forEach((a,b)=>{const c=a.querySelector('img'),d=document.createElement('canvas'),e=d.getContext('2d');a.appendChild(d),objects.push(new Images(a,c,d,e)),objects[b].startLoad()});const preload=document.querySelector('.preloader');preload.classList.add('show-preloader'),document.querySelector('body').style.overflow='hidden',window.addEventListener('load',function(){preload.classList.remove('show-preloader'),document.querySelector('body').style.overflow='visible'}),window.sr=ScrollReveal(),sr.reveal('.header__title',{origin:'center',duration:2500,distance:'0'}),sr.reveal('.skills__row'),sr.reveal('.about__item'),sr.reveal('.project'),sr.reveal('.contact__container');